(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),s=(n(16),n(4)),o=n(1),u=n(2),l=n(6),h=n(5),m=n(3),f=n(7),k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.pos)}},{key:"render",value:function(){var e=this.props,t=e.pos,n={background:e.color};return r.a.createElement("td",{key:t},r.a.createElement("button",{style:n,className:"board-button",onClick:this.handleClick,data:t}))}}]),t}(a.Component),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pieces.map(function(t,n){return r.a.createElement("tr",{key:n},t.map(function(t,a){return r.a.createElement(k,{key:a,pos:"".concat(n,":").concat(a),onClick:e.props.onClick,color:t})}))});return r.a.createElement("table",{className:"board-table"},r.a.createElement("tbody",null,t))}}]),t}(a.Component),v={EMPTY:"#bbb",RED:"red",BLACK:"black"},b=function(){function e(t,n){Object(o.a)(this,e),this.numRows=t,this.WINNING_NUM=n}return Object(u.a)(e,[{key:"createPieces",value:function(e,t){return Object(s.a)(Array(e)).map(function(){return Object(s.a)(Array(t)).fill(v.EMPTY)})}},{key:"getCoords",value:function(e){return e.split(":").map(function(e){return parseInt(e)})}},{key:"isEmpty",value:function(e,t){return e[t[0]][t[1]]===v.EMPTY}},{key:"findAvailablePos",value:function(e,t){for(var n=this.numRows-1;n>=0;n--){var a=[n,t[1]];if(this.isEmpty(e,a))return a}}},{key:"checkHorizontal",value:function(e){var t=function(e,t){return e.join("").includes(t)},n=v.BLACK.repeat(this.WINNING_NUM),a=v.RED.repeat(this.WINNING_NUM),r=!0,i=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var u=s.value;if(t(u,n))return v.BLACK;if(t(u,a))return v.RED}}catch(l){i=!0,c=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw c}}return v.EMPTY}},{key:"checkVertical",value:function(e){var t;return this.checkHorizontal((t=e)[0].map(function(e,n){return t.map(function(e){return e[n]})}))}},{key:"range",value:function(e){return Object(s.a)(Array(e).keys())}},{key:"checkDiagonal",value:function(e){for(var t=[this.range(e.length).map(function(t){return e[t][t]})],n=e.length,a=e[0].length,r=0;r<a;){for(var i=[],c=0,s=r;c<n-r&&s<a;)i.push(e[c][s+1]),c++,s++;t.push(i),r++}for(r=0;r<n-1;){var o=[];for(c=0,s=0;c<n&&s<a-r-2;)c++,o.push(e[c+r][s]),s++;t.push(o),r++}for(t.push(this.range(e.length).map(function(t){return e[t][e.length-t]})),r=1;r<a;){c=0,s=a-++r;for(var u=[];c<n&&s>=0;)u.push(e[c][s]),c++,s--;t.push(u)}return t.push(this.range(a-2).map(function(t){return e[t+1][a-t-1]})),t.push(this.range(a-3).map(function(t){return e[t+2][a-t-1]})),this.checkHorizontal(t)}}]),e}(),d=(n(17),function(){return r.a.createElement("div",{className:"header"},"Connect Four")}),g=function(e){var t=e.winner,n=t?"".concat(t," wins!"):"Game over!";return r.a.createElement("div",{className:"game-over"},n)},y=function(e){var t=e.who;return r.a.createElement("div",{className:"next-turn"},"Next Player: ",t)},E=function(e){var t=e.onClick;return r.a.createElement("button",{className:"restart-button",onClick:t},"Restart game")},C=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).WINNING_NUM=4,n.numRows=6,n.numCols=7,n.gameLogic=new b(n.numRows,n.WINNING_NUM),n.state=n.initState(),n.onClick=n.onClick.bind(Object(m.a)(n)),n.restartGame=n.restartGame.bind(Object(m.a)(n)),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"initState",value:function(){return{pieces:this.gameLogic.createPieces(this.numRows,this.numCols),isBlacksTurn:!0,isOver:!1,winner:""}}},{key:"setWinner",value:function(e){this.setState({winner:e,isOver:!0},function(){})}},{key:"checkWinner",value:function(e){return e!==v.EMPTY&&(this.setWinner(e),!0)}},{key:"checkFour",value:function(){var e=this.gameLogic.checkHorizontal(this.state.pieces);if(!this.checkWinner(e)){var t=this.gameLogic.checkVertical(this.state.pieces);if(!this.checkWinner(t)){var n=this.gameLogic.checkDiagonal(this.state.pieces);this.checkWinner(n)}}}},{key:"onClick",value:function(e){if(console.log("onclick",this.state),!this.state.isOver){var t=this.state.isBlacksTurn?v.BLACK:v.RED,n=Object(s.a)(this.state.pieces),a=this.gameLogic.getCoords(e);if(this.gameLogic.isEmpty(this.state.pieces,a)){var r=this.gameLogic.findAvailablePos(this.state.pieces,a);void 0!==r&&(n[r[0]][r[1]]=t,this.checkFour(),this.setState({pieces:n,isBlacksTurn:!this.state.isBlacksTurn}))}}}},{key:"restartGame",value:function(){this.setState(this.initState())}},{key:"render",value:function(){var e=this.state.isBlacksTurn?"BLACK":"RED";return r.a.createElement("div",{className:"game"},r.a.createElement(d,null),r.a.createElement(p,{pieces:this.state.pieces,onClick:this.onClick}),this.state.isOver?r.a.createElement(g,{winner:this.state.winner}):r.a.createElement(y,{who:e}),r.a.createElement(E,{onClick:this.restartGame}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.d024182c.chunk.js.map